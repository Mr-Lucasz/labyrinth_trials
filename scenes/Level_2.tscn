[gd_scene load_steps=12 format=3 uid="uid://pdl1ynbuhdvh"]

[ext_resource type="Texture2D" uid="uid://b60nhubagallx" path="res://maps/mapafase2.png" id="1_2d6lq"]
[ext_resource type="Script" uid="uid://bysewi4vujk2s" path="res://scripts/level_2.gd" id="1_lkt8x"]
[ext_resource type="PackedScene" uid="uid://bpviuslabowc7" path="res://scenes/jogador.tscn" id="2_vlf2x"]
[ext_resource type="PackedScene" uid="uid://dnxf6h7pcckjn" path="res://scenes/puzzle_forma_sequencia.tscn" id="3_ci4st"]
[ext_resource type="Script" uid="uid://do8bw7if0vmky" path="res://scripts/activation_area.gd" id="5_uih6o"]
[ext_resource type="PackedScene" uid="uid://dgkbwt2un42v5" path="res://scenes/puzzle_quebra_cabeca.tscn" id="6_wl4sj"]
[ext_resource type="Texture2D" uid="uid://c2j22ciqlyi5" path="res://assets/objetos_dicas.png" id="7_at62m"]
[ext_resource type="Texture2D" uid="uid://bdtuuym8figm7" path="res://assets/ChatGPT Image 10 de jul. de 2025, 14_29_02.png" id="8_at62m"]
[ext_resource type="PackedScene" uid="uid://o5b6e0q3bo8b" path="res://scenes/puzzle_conexao_cores.tscn" id="9_puzzle_cores"]
[ext_resource type="AudioStream" uid="uid://cctorjg8t3ksr" path="res://sons/GarnaVutka - Moment of Inspiration (Full version).wav" id="16_av1gt"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ci4st"]
size = Vector2(255.509, 217.325)

[node name="Level2" type="Node2D" node_paths=PackedStringArray("puzzle_formas", "puzzle_cores", "puzzle_quebra_cabeca")]
position = Vector2(-94, -166)
scale = Vector2(2.09386, 2.10744)
script = ExtResource("1_lkt8x")
puzzle_formas = NodePath("puzzle_forma_sequencia")
puzzle_cores = NodePath("PuzzleConexaoCores")
puzzle_quebra_cabeca = NodePath("PuzzleQuebraCabeca")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(779, -525)
texture = ExtResource("1_2d6lq")

[node name="Paredes" type="StaticBody2D" parent="."]
collision_layer = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Paredes"]
polygon = PackedVector2Array(28, -385, 227, -385, 229, -159, 454, -154, 452, -387, 558, -385, 558, -580, 774, -580, 774, -753, 457, -753, 455, -773, 805, -773, 807, -553, 585, -555, 586, -369, 479, -366, 482, -134, 202, -134, 202, -363, 28, -366)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Paredes"]
polygon = PackedVector2Array(227, -567, 227, -520, 364, -520, 365, -734, 337, -732, 339, -569)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Paredes"]
polygon = PackedVector2Array(228, -772, 228, -719, 82, -721, 83, -982, 1468, -986, 1475, -756, 1162, -750, 1162, -557, 924, -554, 928, -373, 800, -357, 804, -159, 1048, -155, 1050, -385, 1468, -384, 1470, -332, 1350, -332, 1346, -368, 1211, -366, 1213, -320, 1079, -318, 1077, -136, 776, -134, 777, -385, 893, -387, 899, -576, 1132, -574, 1132, -774, 1445, -772, 1443, -969, 973, -962, 974.427, -762.541, 945.165, -762.541, 942, -962, 488, -968, 486, -890, 453, -886, 449, -964, 112, -964, 114, -777)

[node name="Jogador" parent="." groups=["player"] instance=ExtResource("2_vlf2x")]
position = Vector2(87.876, -408.553)
scale = Vector2(0.46045, 0.488298)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(767.959, -520.537)
scale = Vector2(1.16993, 1.203)
zoom = Vector2(0.35, 0.29)

[node name="puzzle_forma_sequencia" parent="." groups=["player"] instance=ExtResource("3_ci4st")]
position = Vector2(1292.35, -634.419)
scale = Vector2(0.350705, 0.304969)

[node name="ActivationArea" type="Area2D" parent="." node_paths=PackedStringArray("puzzle_node")]
collision_layer = 0
script = ExtResource("5_uih6o")
puzzle_node = NodePath("../puzzle_forma_sequencia")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActivationArea"]
position = Vector2(1290.68, -639.164)
shape = SubResource("RectangleShape2D_ci4st")

[node name="PuzzleQuebraCabeca" parent="." instance=ExtResource("6_wl4sj")]
position = Vector2(1209.25, -198.345)
scale = Vector2(0.320098, 0.316533)

[node name="ActivationAreaQuebraCabeca" type="Area2D" parent="." node_paths=PackedStringArray("puzzle_node")]
collision_layer = 0
script = ExtResource("5_uih6o")
puzzle_node = NodePath("../PuzzleQuebraCabeca")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActivationAreaQuebraCabeca"]
position = Vector2(1209.25, -198.345)
shape = SubResource("RectangleShape2D_ci4st")

[node name="PuzzleConexaoCores" parent="." instance=ExtResource("9_puzzle_cores")]
position = Vector2(341.952, -260.031)
scale = Vector2(0.254644, 0.241091)

[node name="ActivationAreaCores" type="Area2D" parent="." node_paths=PackedStringArray("puzzle_node")]
collision_layer = 0
script = ExtResource("5_uih6o")
puzzle_node = NodePath("../PuzzleConexaoCores")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActivationAreaCores"]
position = Vector2(341.952, -260.031)
shape = SubResource("RectangleShape2D_ci4st")

[node name="Pista_Vaso" type="Sprite2D" parent="."]
position = Vector2(52.5346, -953.289)
scale = Vector2(0.251113, 0.260778)
texture = ExtResource("7_at62m")
region_enabled = true
region_rect = Rect2(178.9, 93.5, 160, 332)

[node name="Pista_Cristal" type="Sprite2D" parent="."]
position = Vector2(611.311, -485.423)
scale = Vector2(0.125886, 0.12952)
texture = ExtResource("8_at62m")
region_enabled = true
region_rect = Rect2(498.095, 57.1114, 452.859, 863.068)

[node name="Pista_Tapestry" type="Sprite2D" parent="."]
position = Vector2(826.703, -913.905)
scale = Vector2(0.251113, 0.260778)
texture = ExtResource("7_at62m")
region_enabled = true
region_rect = Rect2(1185.58, 125.5, 188, 258)

[node name="UI" type="CanvasLayer" parent="."]

[node name="TimerLabel" type="Label" parent="UI"]
offset_left = 20.0
offset_top = 20.0
offset_right = 200.0
offset_bottom = 60.0
theme_override_font_sizes/font_size = 24
text = "Tempo: 00:00"
horizontal_alignment = 1

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("16_av1gt")
volume_db = -43.187
autoplay = true

[connection signal="body_entered" from="ActivationArea" to="." method="_on_area_2d_body_entered"]
[connection signal="body_entered" from="ActivationArea" to="ActivationArea" method="_on_body_entered"]
[connection signal="body_exited" from="ActivationArea" to="." method="_on_area_2d_body_exited"]
[connection signal="body_exited" from="ActivationArea" to="ActivationArea" method="_on_body_exited"]
[connection signal="body_entered" from="ActivationAreaQuebraCabeca" to="ActivationAreaQuebraCabeca" method="_on_body_entered"]
[connection signal="body_exited" from="ActivationAreaQuebraCabeca" to="ActivationAreaQuebraCabeca" method="_on_body_exited"]
[connection signal="body_entered" from="ActivationAreaCores" to="ActivationAreaCores" method="_on_body_entered"]
[connection signal="body_exited" from="ActivationAreaCores" to="ActivationAreaCores" method="_on_body_exited"]
